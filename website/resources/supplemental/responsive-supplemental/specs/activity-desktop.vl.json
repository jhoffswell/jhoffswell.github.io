{"$schema":"https://vega.github.io/schema/vega-lite/v4.json","description":"Operation at the time of incident for spills over 700 tonnes since 1970.","width":1024,"height":150,"autosize":"fit","view":{"stroke":null},"datasets":{"values":[{"id":6,"activity":"Underway","location":"open water","value":230,"offset":230,"_index_":0},{"id":5,"activity":"Underway","location":"inland","value":81,"offset":311,"_index_":1},{"id":4,"activity":"Loading/Discharging","location":"","value":42,"offset":353,"_index_":2},{"id":3,"activity":"At anchor","location":"inland","value":17,"offset":370,"_index_":3},{"id":2,"activity":"At anchor","location":"open water","value":9,"offset":379,"_index_":4},{"id":1,"activity":"Others or unknown","location":"","value":83,"offset":462,"_index_":5}]},"layer":[{"data":{"name":"values"},"encoding":{"x":{"field":"value","type":"quantitative","axis":{"labels":false,"title":false,"grid":false,"ticks":false,"domain":false}},"fill":{"field":"id","type":"ordinal","scale":{"scheme":"greys"},"legend":false},"y":{"value":55},"y2":{"value":95}},"layer":[{"mark":{"type":"bar"}}]},{"data":{"name":"values"},"encoding":{"x":{"field":"offset","type":"quantitative"},"fill":{"value":"black"},"y":{"value":75},"text":{"field":"value","type":"quantitative"}},"layer":[{"mark":{"type":"text","dx":-40,"dy":-50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=1: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=5: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=3: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=4: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=2: false)","_customized":true}]},{"mark":{"type":"text","dx":-40,"dy":50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==1: true)","_customized":true}]},{"mark":{"type":"text","dx":-5,"dy":50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==5: true)","_customized":true}]},{"mark":{"type":"text","dx":5,"dy":50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==3: true)","_customized":true}]},{"mark":{"type":"text","dx":60,"dy":-50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==4: true)","_customized":true}]},{"mark":{"type":"text","dx":-30,"dy":-50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==2: true)","_customized":true}]}],"transform":[{"calculate":"datum.activity + if(datum.location != '', ' (' + datum.location + ')', '')","as":"datumactivitydatumlocationdatumlocation"}]},{"data":{"name":"values"},"encoding":{"x":{"field":"offset","type":"quantitative"},"fill":{"value":"black"},"text":{"field":"datumactivitydatumlocationdatumlocation","_label":"=datum.activity + if(datum.location != '', ' (' + datum.location + ')', '')"},"y":{"value":75}},"layer":[{"mark":{"type":"text","dx":-50,"dy":-50,"align":"right"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=1: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=5: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=3: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=4: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=2: false)","_customized":true}]},{"mark":{"type":"text","dx":-50,"dy":50,"align":"right"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==1: true)","_customized":true}]},{"mark":{"type":"text","dx":-15,"dy":50,"align":"right"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==5: true)","_customized":true}]},{"mark":{"type":"text","dx":0,"dy":50,"align":"right"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==3: true)","_customized":true}]},{"mark":{"type":"text","dx":50,"dy":-50,"align":"right"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==4: true)","_customized":true}]},{"mark":{"type":"text","dx":-35,"dy":-50,"align":"right"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==2: true)","_customized":true}]}],"transform":[{"calculate":"datum.activity + if(datum.location != '', ' (' + datum.location + ')', '')","as":"datumactivitydatumlocationdatumlocation"}]},{"data":{"name":"_data_1","values":[{"name":"default"}]},"encoding":{"text":{"value":"Activity at the time of spill"},"y":{"value":0},"x":{"value":0}},"layer":[{"mark":{"type":"text","fontSize":16,"fontWeight":"bold","dy":-15,"align":"left"}}],"transform":[{"calculate":"0-10","as":"_10"}]},{"data":{"name":"_data_1_copy","values":[{"name":"default"}]},"encoding":{"text":{"value":"Operation at the time of incident for spills over 700 tonnes since 1970"},"y":{"value":0},"x":{"value":0}},"layer":[{"mark":{"type":"text","fontSize":12,"dy":5,"align":"left"}}],"transform":[{"calculate":"0-10","as":"_10"}]},{"data":{"name":"values"},"encoding":{"x":{"field":"datumoffset50","_label":"=datum.offset-50"},"y":{"value":32},"y2":{"value":50}},"layer":[{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=1: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=3: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=5: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=4: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=2: false)","_customized":true}]},{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==1: true)","_customized":true}],"encoding":{"y2":{"value":100},"y":{"value":114}}},{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==3: true)","_customized":true}],"encoding":{"y2":{"value":100},"y":{"value":114},"x":{"field":"datumoffset5","_label":"=datum.offset-5"}}},{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==5: true)","_customized":true}],"encoding":{"y2":{"value":100},"y":{"value":114}}},{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==4: true)","_customized":true}],"encoding":{"x":{"field":"datumoffset5","_label":"=datum.offset - 5"}}},{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==2: true)","_customized":true}],"encoding":{"x":{"field":"datumoffset30","_label":"=datum.offset-30"}}}],"transform":[{"calculate":"datum.offset-50","as":"datumoffset50"},{"calculate":"datum.offset + 50","as":"datumoffset50"},{"calculate":"datum.offset - 50","as":"datumoffset50"},{"calculate":"datum.offset + 45","as":"datumoffset45"},{"calculate":"datum.offset+10","as":"datumoffset10"},{"calculate":"datum.offset + 10","as":"datumoffset10"},{"calculate":"datum.offset","as":"datumoffset"},{"calculate":"datum.offset-5","as":"datumoffset5"},{"calculate":"datum.offset - 5","as":"datumoffset5"},{"calculate":"datum.offset-30","as":"datumoffset30"},{"calculate":"datum.offset+10","as":"datumoffset10"},{"calculate":"datum.offset-5","as":"datumoffset5"}]},{"layer":[]}],"config":{}}