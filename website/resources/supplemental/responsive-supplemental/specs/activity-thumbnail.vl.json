{"$schema":"https://vega.github.io/schema/vega-lite/v4.json","description":"Operation at the time of incident for spills over 700 tonnes since 1970.","width":240,"height":120,"padding":0,"autosize":"fit","view":{"stroke":null},"datasets":{"values":[{"id":6,"activity":"Underway","location":"open water","value":230,"offset":230,"_index_":0},{"id":5,"activity":"Underway","location":"inland","value":81,"offset":311,"_index_":1},{"id":4,"activity":"Loading/Discharging","location":"","value":42,"offset":353,"_index_":2},{"id":3,"activity":"At anchor","location":"inland","value":17,"offset":370,"_index_":3},{"id":2,"activity":"At anchor","location":"open water","value":9,"offset":379,"_index_":4},{"id":1,"activity":"Others or unknown","location":"","value":83,"offset":462,"_index_":5}]},"layer":[{"data":{"name":"values"},"encoding":{"x":{"field":"value","type":"quantitative","axis":{"labels":false,"title":false,"grid":false,"ticks":false,"domain":false}},"fill":{"field":"activity","type":"nominal","scale":{"scheme":"greys"},"legend":false},"y":{"value":30},"y2":{"value":60},"detail":{"field":"id","type":"quantitative"}},"layer":[{"mark":{"type":"bar"}}]},{"data":{"name":"values"},"encoding":{"x":{"field":"offset","type":"quantitative"},"fill":{"value":"black"},"y":{"value":75},"text":{"field":"value","type":"quantitative"}},"layer":[{"mark":{"type":"text","dx":-40,"dy":-50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=1: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=5: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=3: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=4: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=2: false)","_customized":true}]},{"mark":{"type":"text","dx":-40,"dy":50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==1: true)","_customized":true}]},{"mark":{"type":"text","dx":-5,"dy":50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==5: true)","_customized":true}]},{"mark":{"type":"text","dx":5,"dy":50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==3: true)","_customized":true}]},{"mark":{"type":"text","dx":60,"dy":-50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==4: true)","_customized":true}]},{"mark":{"type":"text","dx":-30,"dy":-50,"align":"left","fontWeight":"bold"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==2: true)","_customized":true}]}],"transform":[{"calculate":"datum.activity + if(datum.location != '', ' (' + datum.location + ')', '')","as":"datumactivitydatumlocationdatumlocation"},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=0: false)","datum":{"id":6,"activity":"Underway","location":"open water","value":230,"offset":230,"_index_":0,"datumactivitydatumlocationdatumlocation":"Underway (open water)"},"text":"230","marktype":"text","path":["layer","1","layer","0"]},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=1: false)","datum":{"id":5,"activity":"Underway","location":"inland","value":81,"offset":311,"_index_":1,"datumactivitydatumlocationdatumlocation":"Underway (inland)"},"text":"81","marktype":"text","path":["layer","1","layer","1"]},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=5: false)","datum":{"id":1,"activity":"Others or unknown","location":"","value":83,"offset":462,"_index_":5,"datumactivitydatumlocationdatumlocation":"Others or unknown"},"text":"83","marktype":"text","path":["layer","1","layer","2"]},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=3: false)","datum":{"id":3,"activity":"At anchor","location":"inland","value":17,"offset":370,"_index_":3,"datumactivitydatumlocationdatumlocation":"At anchor (inland)"},"text":"17","marktype":"text","path":["layer","1","layer","3"]},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=4: false)","datum":{"id":2,"activity":"At anchor","location":"open water","value":9,"offset":379,"_index_":4,"datumactivitydatumlocationdatumlocation":"At anchor (open water)"},"text":"9","marktype":"text","path":["layer","1","layer","4"]},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=2: false)","datum":{"id":4,"activity":"Loading/Discharging","location":"","value":42,"offset":353,"_index_":2,"datumactivitydatumlocationdatumlocation":"Loading/Discharging"},"text":"42","marktype":"text","path":["layer","1","layer","5"]}]},{"data":{"name":"values"},"encoding":{"x":{"field":"offset","type":"quantitative"},"fill":{"value":"black"},"y":{"value":75},"text":{"field":"activity","type":"nominal"}},"layer":[{"mark":{"type":"text","dx":0,"dy":-65,"align":"center"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=1: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=5: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=3: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=2: false)","_customized":true}]},{"mark":{"type":"text","dx":-10,"dy":-65,"align":"center"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==1: true)","_customized":true}]},{"mark":{"type":"text","dx":0,"dy":10,"align":"center"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==5: true)","_customized":true}],"encoding":{"text":{"value":"Other"}}},{"mark":{"type":"text","dx":15,"dy":-65,"align":"center"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==3: true)","_customized":true}]},{"mark":{"type":"text","dx":0,"dy":-65,"align":"center"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==4: true)","_customized":true}]},{"mark":{"type":"text","dx":0,"dy":10,"align":"center"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==2: true)","_customized":true}],"encoding":{"text":{"value":"Loading"}}},{"mark":{"type":"text","dx":0,"dy":-65,"align":"center"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==0: true)","_customized":true}]}],"transform":[{"calculate":"datum.activity + if(datum.location != '', ' (' + datum.location + ')', '')","as":"datumactivitydatumlocationdatumlocation"},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=0: false)","datum":{"id":6,"activity":"Underway","location":"open water","value":230,"offset":230,"_index_":0,"datumactivitydatumlocationdatumlocation":"Underway (open water)"},"text":"Underway","marktype":"text","path":["layer","2","layer","0"]},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=4: false)","datum":{"id":2,"activity":"At anchor","location":"open water","value":9,"offset":379,"_index_":4,"datumactivitydatumlocationdatumlocation":"At anchor (open water)"},"text":"At anchor","marktype":"text","path":["layer","2","layer","4"]}]},{"data":{"name":"_data_7","values":[{"name":"default"}]},"encoding":{"text":{"value":"Activity at the time of spill"},"y":{"value":0},"x":{"value":0}},"layer":[{"mark":{"type":"text","fontSize":14,"fontWeight":"bold","dy":-15,"align":"left"}}],"transform":[{"calculate":"0-10","as":"_10"}]},{"data":{"name":"_data_7_copy","values":[{"name":"default"}]},"encoding":{"text":{"value":"Operation at the time of incident for spills over 700 tonnes since 1970"},"y":{"value":0},"x":{"value":0}},"layer":[{"mark":{"type":"text","fontSize":12,"dy":5,"align":"left"}}],"transform":[{"calculate":"0-10","as":"_10"},{"filter":"false","datum":{"name":"default","_10":-10},"text":"Operation at the time of incident for spills over 700 tonnes since 1970","marktype":"text","path":["layer","4","layer","0"]}]},{"data":{"name":"values"},"encoding":{"x":{"field":"datumoffset50","_label":"=datum.offset-50"},"y":{"value":15},"y2":{"value":65}},"layer":[{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=1: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=3: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=5: false)","_customized":true},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=2: false)","_customized":true}]},{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==1: true)","_customized":true}],"encoding":{"y2":{"value":25},"y":{"value":15},"x":{"field":"datumoffset12","_label":"=datum.offset-12"}}},{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==3: true)","_customized":true}],"encoding":{"y2":{"value":25},"y":{"value":15},"x":{"field":"datumoffset40","_label":"=datum.offset+40"}}},{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==5: true)","_customized":true}],"encoding":{"y2":{"value":75},"y":{"value":65},"x":{"field":"datumoffset6","_label":"=datum.offset-6"}}},{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==4: true)","_customized":true}],"encoding":{"x":{"field":"datumoffset6","_label":"=datum.offset-6"}}},{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==2: true)","_customized":true}],"encoding":{"x":{"field":"datumoffset6","_label":"=datum.offset-6"},"y":{"value":65},"y2":{"value":75}}},{"mark":{"type":"rule"},"transform":[{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]==0: true)","_customized":true}],"encoding":{"x":{"field":"datumoffset2","_label":"=datum.offset-2"}}}],"transform":[{"calculate":"datum.offset-50","as":"datumoffset50"},{"calculate":"datum.offset + 50","as":"datumoffset50"},{"calculate":"datum.offset - 50","as":"datumoffset50"},{"calculate":"datum.offset + 45","as":"datumoffset45"},{"calculate":"datum.offset+10","as":"datumoffset10"},{"calculate":"datum.offset + 10","as":"datumoffset10"},{"calculate":"datum.offset","as":"datumoffset"},{"calculate":"datum.offset-5","as":"datumoffset5"},{"calculate":"datum.offset - 5","as":"datumoffset5"},{"calculate":"datum.offset-30","as":"datumoffset30"},{"calculate":"datum.offset+10","as":"datumoffset10"},{"calculate":"datum.offset-5","as":"datumoffset5"},{"calculate":"datum.offset-2","as":"datumoffset2"},{"calculate":"datum.offset-2","as":"datumoffset2"},{"calculate":"datum.offset-2","as":"datumoffset2"},{"calculate":"datum.offset-2","as":"datumoffset2"},{"calculate":"datum.offset-2","as":"datumoffset2"},{"calculate":"datum.offset-2","as":"datumoffset2"},{"calculate":"datum.offset-2","as":"datumoffset2"},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=0: false)","datum":{"id":6,"activity":"Underway","location":"open water","value":230,"offset":230,"_index_":0,"datumoffset50":180,"datumoffset45":275,"datumoffset10":240,"datumoffset":230,"datumoffset5":225,"datumoffset30":200,"datumoffset2":228},"text":"228","marktype":"rule","path":["layer","5","layer","6"]},{"calculate":"datum.offset-6","as":"datumoffset6"},{"calculate":"datum.offset-6","as":"datumoffset6"},{"calculate":"datum.offset-6","as":"datumoffset6"},{"calculate":"datum.offset-6","as":"datumoffset6"},{"calculate":"datum.offset-6","as":"datumoffset6"},{"filter":"((datum[\"_index_\"] != null) ? datum[\"_index_\"]!=4: false)","datum":{"id":2,"activity":"At anchor","location":"open water","value":9,"offset":379,"_index_":4,"datumoffset50":329,"datumoffset45":424,"datumoffset10":389,"datumoffset":379,"datumoffset5":374,"datumoffset30":349,"datumoffset2":377,"datumoffset6":373},"text":"373","marktype":"rule","path":["layer","5","layer","4"]},{"calculate":"datum.offset+30","as":"datumoffset30"},{"calculate":"datum.offset+35","as":"datumoffset35"},{"calculate":"datum.offset+40","as":"datumoffset40"},{"calculate":"datum.offset-12","as":"datumoffset12"}]},{"data":{"name":"_data_1","values":[{"name":"default"}]},"encoding":{"text":{"value":"text"}},"layer":[{"mark":{"type":"text"}}],"transform":[{"filter":"false","datum":{"name":"default"},"text":"text","marktype":"text","path":["layer","6","layer","0"]}]}]}